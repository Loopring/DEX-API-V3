# 订阅买卖前10全量推送

通过订阅该主题，您可以每1秒获得指定交易对前10条卖单和买单的**全量**数据推送 - 即使数据没有任何变化。

## 订阅规则

- `topic`需要指定交易对和深度聚合等级。如果交易对是`LRC-ETH`，深度聚合等级是`1`，那么`topic`应该拼写为：`depth10&LRC-ETH&1`。
- 订阅该主题不需要提供ApiKey。
- 交易对和深度聚合等级可以通过[api/v2/exchange/markets接口](../dex_apis/getMarkets.md)获取。


## 状态码

| 状态码 |                 描述                  |
| :---- | :----------------------------------- |
| 104108 | `topic`的值或其参数非法|

##  推送示例

```json
{
    "topic": "depth10&LRC-BTC&1",
    "ts": 1565844208,
    "data": {
        "bids": [
            [
              "295.97",  //price
              "4567810000000000",  //size
              "30150000000000",  //volume
              "2"  //count
            ]
        ],
        "asks": [
            [
              "298.97",
              "456781000000000000",
              "301500000000000",
              "2"
            ]
        ]
    }
}
```

## 模型

#### 推送数据结构

| 字段  |      类型       | 必现 |       说明       |        举例         |
| :--- | :------------- | :------ | :-------------- | :----------------- |
| topic |     string      |    是    | 订阅的主题和条件 | "depth10&LRC-ETH&1" |
|  ts   |     integer     |    是    |     推送时间     |    1584717910000    |
| data  | [Depth](#depth) |    是    |     深度信息     |          /          |

####<span id="depth">Depth数据结构</span>

| 字段 | 类型                           | 必现 | 说明     | 举例 |
| :---- | :------------------------------ | :-------- | :-------- | :---- |
| bids | [List\[List\[string\]]](#slot)  （深度条目列表）| 是       | 买单深度 | /    |
| asks | [List\[List\[string\]]](#slot)  （深度条目列表）| 是       | 卖单深度 | /    |

### <span id = "slot">深度条目</span>

`asks`和`bids`数组中的每个子数组都是定长数组，我们称之为*深度条目*，其规范如下：

| 序号  | 类型   | 必现 | 说明           | 举例       |
| :------ | :------ | :-------- | :-------------- | :---------- |
|    1     | string | 是       | 价格           | "0.002"    |
|    2     | string | 是       | 挂单量         | "21000"    |
|    3     | string | 是       | 挂单总量       | "33220000" |
|    4     | string | 是       | 聚合的订单数目 | "4"        |
